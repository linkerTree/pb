syntax = "proto3";
//default go package name
package credential;
option  go_package ="github.com/linkerTree/pb/credential";

service UserCredentialValidator {
  // 获取一个public key
  rpc GetPublicKey(GetPublicKeyReq) returns (GetPublicKeyRsp);
  // 尝试登陆的时候来验证密码是否正确
  rpc ValidatePassWord(validatePassWordReq) returns (validatePassWordRsp);
  // 根据session ID检查登陆状态
  rpc CheckIsLoggingIn(CheckIsLoggingInReq) returns (CheckIsLoggingInRsp);
}

message GetPublicKeyReq{}
message GetPublicKeyRsp{
  string publicKey = 1;
}

message validatePassWordReq {
  string userName = 1;
  string hashedPassword = 2;
}
message validatePassWordRsp {
  string error = 1;
  string sessionID = 2;
}

message CheckIsLoggingInReq {
  string sessionID = 1;
}
message CheckIsLoggingInRsp{
  bool isLogging = 1;
}